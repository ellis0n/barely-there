---
export const prerender = false;
import { Image } from "astro:assets";
import { type CollectionEntry } from "astro:content";
interface Props {
	releases: CollectionEntry<"releases">[];
}
const { releases } = Astro.props;
---

<div
	class="w-content items-center py-12 grid grid-cols-2 gap-4 sm:grid-cols-3 sm:gap-8 lg:grid-cols-4"
>
	{
		releases.reverse().map((album, index) => (
			<div class="flex items-end justify-center">
				<a href={`/releases/${album.data.id}`}>
					<div class="h-fit">
						<Image
							src={album.data.artwork}
							alt={album.data.albumTitle}
							class="object-contain h-95 w-95 rounded-sm"
							transition:name={`${album.data.id}`}
							loading={index <= 8 ? "eager" : "lazy"}
						/>
					</div>
					<div class="flex flex-col items-center">
						<h2 class="sm:text-2xl sm:hover:text-lg">
							{album.data.artist}
						</h2>
						<h3 class="sm:text-lg">{album.data.albumTitle}</h3>
					</div>
				</a>
			</div>
		))
	}
</div>
